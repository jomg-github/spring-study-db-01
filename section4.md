# 스프링 DB 1편 - 데이터 접근 핵심 원리

## 섹션4 - 트랜잭션 개념 이해

---

### 트랜잭션 격리 수준 - Isolation Level

> 트랜잭션은 원자성, 일관성, 지속성, **격리성**을 보장한다. <br/><br/>
> 격리성을 완벽히 보장하려면 트랜젹선을 순차적으로 실행해야 하지만,
> 이렇게 되면 동시처리 성능이 매우 나빠진다. <br/><br/>
> 때문에 ANSI 표준은 트랜잭션 격리 수준을 4단계로 나누어 정의했다.

1. READ UNCOMMITTED - 커밋되지 않은 읽기
2. READ COMMITTED - 커밋된 읽기
3. REPEATABLE READ - 반복 가능한 읽기
4. SERIALIZABLE - 직렬화 가능

### DB 연결 구조와 DB 세션

- 클라이언트가 DB 서버에 연결을 요청하고 커넥션을 맺으면 DB 서버 내부에 세션이 생성됨
- 해당 커넥션을 통한 모든 요청은 생성된 세션을 통해 실행하게 됨
- 커넥션을 닫으면 세션이 종료됨


### DB 락 - 개념 이해

- 세션1이 트랜잭션을 시작하고 데이터를 수정하고 커밋되기 전 다른 세션이 동시에 같은 데이터를 수정하지 못하게 막아야 함
- UPDATE 시, UPDATE 대상이 되는 데이터에 락이 잡힘 
- SELECT 시, 락을 걸고 싶으면 SELECT .. FOR UPDATE 구문 사용

